{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/var/www/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/var/www/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/var/www/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/var/www/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";// frontend/src/App.js\nimport React,{Component}from\"react\";import Modal from\"./components/Modal\";import axios from\"axios\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.refreshList=function(){axios.get(\"http://localhost/api/todos/\").then(function(res){return _this.setState({todoList:res.data});}).catch(function(err){return console.log(err);});};_this.displayCompleted=function(status){if(status){return _this.setState({viewCompleted:true});}return _this.setState({viewCompleted:false});};_this.renderTabList=function(){return/*#__PURE__*/_jsxs(\"div\",{className:\"my-5 tab-list\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return _this.displayCompleted(true);},className:_this.state.viewCompleted?\"active\":\"\",children:\"complete\"}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return _this.displayCompleted(false);},className:_this.state.viewCompleted?\"\":\"active\",children:\"Incomplete\"})]});};_this.renderItems=function(){var viewCompleted=_this.state.viewCompleted;var newItems=_this.state.todoList.filter(function(item){return item.completed===viewCompleted;});return newItems.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"todo-title mr-2 \".concat(_this.state.viewCompleted?\"completed-todo\":\"\"),title:item.description,children:item.title}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return _this.editItem(item);},className:\"btn btn-secondary mr-2\",children:[\" \",\"Edit\",\" \"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return _this.handleDelete(item);},className:\"btn btn-danger\",children:[\"Delete\",\" \"]})]})]},item.id);});};_this.toggle=function(){_this.setState({modal:!_this.state.modal});};_this.handleSubmit=function(item){_this.toggle();if(item.id){axios.put(\"http://localhost/api/todos/\".concat(item.id,\"/\"),item).then(function(res){return _this.refreshList();});return;}axios.post(\"http://localhost/api/todos/\",item).then(function(res){return _this.refreshList();});};_this.handleDelete=function(item){axios.delete(\"http://localhost/api/todos/\".concat(item.id)).then(function(res){return _this.refreshList();});};_this.createItem=function(){var item={title:\"\",description:\"\",completed:false};_this.setState({activeItem:item,modal:!_this.state.modal});};_this.editItem=function(item){_this.setState({activeItem:item,modal:!_this.state.modal});};_this.state={viewCompleted:false,activeItem:{title:\"\",description:\"\",completed:false},todoList:[]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.refreshList();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-white text-uppercase text-center my-4\",children:\"Todo app\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row \",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-sm-10 mx-auto p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.createItem,className:\"btn btn-primary\",children:\"Add task\"})}),this.renderTabList(),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:this.renderItems()})]})})}),this.state.modal?/*#__PURE__*/_jsx(Modal,{activeItem:this.state.activeItem,toggle:this.toggle,onSave:this.handleSubmit}):null]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/var/www/frontend/src/App.js"],"names":["React","Component","Modal","axios","App","props","refreshList","get","then","res","setState","todoList","data","catch","err","console","log","displayCompleted","status","viewCompleted","renderTabList","state","renderItems","newItems","filter","item","completed","map","description","title","editItem","handleDelete","id","toggle","modal","handleSubmit","put","post","delete","createItem","activeItem"],"mappings":"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","sourcesContent":["// frontend/src/App.js\n\nimport React, { Component } from \"react\";\nimport Modal from \"./components/Modal\";\nimport axios from \"axios\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewCompleted: false,\n      activeItem: {\n        title: \"\",\n        description: \"\",\n        completed: false\n      },\n      todoList: []\n    };\n  }\n  componentDidMount() {\n    this.refreshList();\n  }\n  refreshList = () => {\n    axios\n      .get(\"http://localhost/api/todos/\")\n      .then(res => this.setState({ todoList: res.data }))\n      .catch(err => console.log(err));\n  };\n  displayCompleted = status => {\n    if (status) {\n      return this.setState({ viewCompleted: true });\n    }\n    return this.setState({ viewCompleted: false });\n  };\n  renderTabList = () => {\n    return (\n      <div className=\"my-5 tab-list\">\n        <span\n          onClick={() => this.displayCompleted(true)}\n          className={this.state.viewCompleted ? \"active\" : \"\"}\n        >\n          complete\n        </span>\n        <span\n          onClick={() => this.displayCompleted(false)}\n          className={this.state.viewCompleted ? \"\" : \"active\"}\n        >\n          Incomplete\n        </span>\n      </div>\n    );\n  };\n  renderItems = () => {\n    const { viewCompleted } = this.state;\n    const newItems = this.state.todoList.filter(\n      item => item.completed === viewCompleted\n    );\n    return newItems.map(item => (\n      <li\n        key={item.id}\n        className=\"list-group-item d-flex justify-content-between align-items-center\"\n      >\n        <span\n          className={`todo-title mr-2 ${\n            this.state.viewCompleted ? \"completed-todo\" : \"\"\n          }`}\n          title={item.description}\n        >\n          {item.title}\n        </span>\n        <span>\n          <button\n            onClick={() => this.editItem(item)}\n            className=\"btn btn-secondary mr-2\"\n          >\n            {\" \"}\n            Edit{\" \"}\n          </button>\n          <button\n            onClick={() => this.handleDelete(item)}\n            className=\"btn btn-danger\"\n          >\n            Delete{\" \"}\n          </button>\n        </span>\n      </li>\n    ));\n  };\n  toggle = () => {\n    this.setState({ modal: !this.state.modal });\n  };\n  handleSubmit = item => {\n    this.toggle();\n    if (item.id) {\n      axios\n        .put(`http://localhost/api/todos/${item.id}/`, item)\n        .then(res => this.refreshList());\n      return;\n    }\n    axios\n      .post(\"http://localhost/api/todos/\", item)\n      .then(res => this.refreshList());\n  };\n  handleDelete = item => {\n    axios\n      .delete(`http://localhost/api/todos/${item.id}`)\n      .then(res => this.refreshList());\n  };\n  createItem = () => {\n    const item = { title: \"\", description: \"\", completed: false };\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n  editItem = item => {\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n  render() {\n    return (\n      <main className=\"content\">\n        <h1 className=\"text-white text-uppercase text-center my-4\">Todo app</h1>\n        <div className=\"row \">\n          <div className=\"col-md-6 col-sm-10 mx-auto p-0\">\n            <div className=\"card p-3\">\n              <div className=\"\">\n                <button onClick={this.createItem} className=\"btn btn-primary\">\n                  Add task\n                </button>\n              </div>\n              {this.renderTabList()}\n              <ul className=\"list-group list-group-flush\">\n                {this.renderItems()}\n              </ul>\n            </div>\n          </div>\n        </div>\n        {this.state.modal ? (\n          <Modal\n            activeItem={this.state.activeItem}\n            toggle={this.toggle}\n            onSave={this.handleSubmit}\n          />\n        ) : null}\n      </main>\n    );\n  }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}